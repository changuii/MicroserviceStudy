# 1.4 활성화 기술 

앞서 언급했듯이 마이크로서비스를 처음 사용할 때는 새로운 기술을 많이 채택할 필요가 없다.  
오히려 역효과를 낳을 수 있기 때문이다.  
그 대신에 마이크로서비스 아키텍처를 확장하면서 점차 분산되는 시스템으로 인해 발생하는 문제를 지속적으로 찾고 도움이 될 만한 기술을 찾아야 한다.  

게다가 기술은 마이크로서비스를 개념적으로 받아들이는 데 큰 역할을 했다.  
이 아키텍처를 최대한 활용하도록 해주는 도구를 이해하는 것은 마이크로서비스를 성공적으로 구현하기 위한 핵심 부분이다.  
사실 마이크로서비스는 논리적 아키텍처와 물리적 아키텍처를 구분하는 이전의 방식이 문제가 될 만큼 지원 기술을 제대로 이해햐려는 노력이 절실하다.  
따라서 마이크로서비스 아키텍처를 형성하는 데 관여하고 있다면 이 두 세계를 폭넓게 이해해야 한다.  

## 1.4.1 로그 집계와 분산 추적

## 1.4.2 컨테이너와 쿠버네티스  

각 마이크로서비스 인스턴스를 격리해 실행하는 것은 이상적이다.  
이렇게 하면 한 마이크로서비스의 문제가 다른 마이크로서비스에 영향을 미치지 않게 할 수 있다.(예 : 모든 CPU를 독차지 한다.)  

가상화는 기존 하드웨어에 격리된 실행 환경을 만드는 한 가지 방법이지만, 일반적인 가상화 기술은 마이크로서비스 크기를 고려할 때 상당히 무거울 수 있다.  
반면에 컨테이너는 서비스 인스턴스를 위한 격리된 실행 환경을 프로비저닝하는 훨씬 더 가벼운 방법을 제공하므로, 많은 아키텍처에서 비용 효율도 훨씬 더 높을 뿐 아니라 새로운 컨테이너 인스턴스의 시작 시간도 더 빨라진다.  

컨테이너를 갖고 놀기 시작하고 나면, 많은 하부 머신에서 컨테이너를 관리할 수 있는 무언가가 필요하다는 점을 깨닫게 된다.  
쿠버네티스와 같은 컨테이너 오케스트레이션 플랫폼은 이에 꼭 맞는 일을 수행하는데, 하위 머신을 효율적으로 사용하면서 서비스에 요구되는 견고함과 처리량을 제공하는 방식으로 컨테이너를 분산시킨다.  

해당 상황에서는 쿠버네티스나 컨테이너를 채택하려고 서두르지 않아도된다.  
이 도구들은 기존의 기술보다 절대적으로 상당한 이점을 제공하지만, 마이크로서비스가 몇 개만 있는 경우라면 채택하지 않는 것이 합당하다.  
배포관리의 오버헤드가 심각한 골칫거리가 되기 시작하면 서비스의 컨테이너화와 쿠버네티스 사용을 고려하라.  

결국 사용하기로 했다면, 공용 클라우드 제공 업체의 관리형 서비스를 이용하는 것처럼 다른 사람이 쿠버네티스 클러스터를 여러분을 대신해 운영하도록 하는 것이 최선이다.  
자체 쿠버네티스 클러스터를 실행하는 것은 상당한 양의 작업이될 수 있기 때문이다!

## 1.4.3 스트리밍  

마이크로서비스로 인해 모놀리식 데이터베이스에서 멀어지고 있지만, 여전히 마이크로서비스간에 데이터를 공유하는 방법을 찾아야 한다.  
이것은 조직이 리포팅 배치 작업 방식에서 벗어나 더 신속하게 반응할 수 있도록 실시간 피드백을 원하는 현상과 함께 발생하고 있다.  
따라서 대용량 데이터를 쉽게 스트리밍하고 처리하는 제품은 마이크로서비스 아키텍처를 사용하는 사람들에게 인기를 얻고 있다.  

많은 사람에게 아파치 카프카는 다양한 이유로 마이크로서비스 환경에서 데이터를 스트리밍하기 위한 실질적인 선택지가 됐다.  
예를 들면 메시지 영구성, 압축, 대용량 메시지를 처리할 수 있는 확장 기능 등은 매우 유용하다.  
카프카는 KSQLDB형태로 스트림 프로세싱 기능을 추가하기 시작했지만, 아파치 플린크와 같은 전용 스트림 프로세싱 솔루션도 함께 사용할 수 있다.  

데베지움은 카프카를 통해 기존 데이터 소스의 데이터를 스트리밍할 수 있도록 개발된 오픈 소스 도구로, 기존 데이터 소스를 스트림 기반 아키텍처의 일부로 만들어준다.  

## 1.4.4 공용 클라우드 및 서버리스  

공용 클라우드 제공업체, 더 구체적으로 말해 3개의 주요 제공업체인 구글 클라우드, 마이크로소프트 애저, 아마존 웹 서비스(AWS)는 다양한 관리형 서버리스와 배포 옵션을 제공한다.  

마이크로서비스가 늘어나면 더 많은 작업이 점차 운영 영역으로 이동될 것이다.  
공용 클라우드 제공업체는 관리형 데이터베이스 인스턴스나 쿠버네티스에서 메시지 브로커나 분산 파일 시스템에 이르기 까지 많은 관리형 서비스를 젝오한다.  
관리형 서비스를 사용하면 이러한 작업을 더 잘 처리할 수 있는 제삼자에게 많은 양의 작업을 넘길 수 있다.  

공용 클라우드 제품 중 특히 흥미로운 것은 서버리스 라는 구호 아래에 있는 제품들이다.  
이 제품들은 하부 머신을 숨겨 더 높은 추상화 수준에서 작업할 수 있게 해준다.  

서버리스 제품의 예로는 메시지 브로커, 스토리지 솔루션, 데이터베이스 등이 있다.  
FaaS는 플랫폼은 코드 배포에 대한 멋진 추상화를 제공한 덕분에 특별한 관심을 받는다.  

서비스를 실행하는 데 필요한 서버 수를 신경 쓰지 않으면서 단지 코드를 배포하고 하부 플랫폼이 요청에 따라 코드의 인스턴스를 시작하는 처리만 하면 된다.  







